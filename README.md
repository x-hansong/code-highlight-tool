# 🐍 Python 代码片段高亮截图工具

一个简单易用的网页工具，支持输入 Python 代码，选择特定行进行高亮，并生成美观的代码截图。

## 📁 文件结构

```
code-highlight-tool/
├── index.html          # 主页面（使用 Prism.js）
├── style.css           # 样式文件（暗色主题）
├── script.js           # 主要逻辑
└── README.md           # 使用说明
```

## ✨ 功能特性

- **实时代码预览** - 输入代码后立即显示带语法高亮的预览
- **代码格式化** - 一键格式化 Python 代码，自动调整缩进和空格
- **多行选择** - 点击行号选择单行，按住 Ctrl/Cmd 键多选不连续行
- **一键截图** - 支持复制到剪贴板和下载 PNG 图片
- **暗色主题** - 专业的暗色界面，对眼睛友好
- **键盘快捷键** - 提高操作效率

## 🚀 快速开始

1. 打开 `index.html` 文件
2. 在上方输入框中输入 Python 代码
3. 点击下方预览区域的行号来选择要高亮的行
4. 点击"复制到剪贴板"或"下载 PNG 图片"按钮

## ⌨️ 键盘快捷键

- `Ctrl/Cmd + A` - 全选所有行
- `Ctrl/Cmd + D` - 清除选择
- `Ctrl/Cmd + F` - 格式化代码
- `Ctrl/Cmd + S` - 下载图片
- `Ctrl/Cmd + C` - 复制图片到剪贴板（当焦点不在输入框时）

## 🔧 技术栈

- **前端**：纯 HTML + CSS + JavaScript
- **语法高亮**：Prism.js
- **图片生成**：html2canvas
- **剪贴板**：Clipboard API

## 🎨 自定义样式

你可以通过修改 `style.css` 文件来自定义：

- 颜色主题
- 字体样式
- 布局设计
- 高亮颜色

## 🐛 故障排除

### 问题：输入代码后没有预览

**解决方案：**
1. 打开浏览器开发者工具（F12）
2. 查看控制台是否有错误信息
3. 检查网络连接，确保外部库能正常加载

### 问题：无法选择代码行

**解决方案：**
1. 确保代码预览区域正常显示
2. 点击行号（左侧数字）而不是代码内容
3. 检查是否有 JavaScript 错误

### 问题：图片生成失败

**解决方案：**
1. 确保浏览器支持 html2canvas
2. 尝试使用下载功能而不是复制到剪贴板
3. 检查浏览器是否允许剪贴板访问

## 🌟 使用示例

### 格式化前（格式混乱的代码）
```python
def fibonacci(n):
"""计算斐波那契数列"""
if n<=1:
return n
return fibonacci(n-1)+fibonacci(n-2)
#测试函数
for i in range(10):
print(f"F({i}) = {fibonacci(i)}")
```

### 格式化后（整洁的代码）
```python
def fibonacci(n):
    """计算斐波那契数列"""
    if n <= 1:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)


# 测试函数
for i in range(10):
    print(f"F({i}) = {fibonacci(i)}")
```

## 📝 更新日志

### v1.1.0
- 添加 Python 代码格式化功能
- 支持自动缩进调整
- 支持运算符周围空格格式化
- 支持逗号和冒号后空格格式化
- 添加格式化快捷键 `Ctrl/Cmd + F`

### v1.0.0
- 初始版本发布
- 支持 Python 语法高亮
- 支持多行选择
- 支持图片生成和下载
- 添加键盘快捷键
- 创建备用版本
- 整理文件结构到独立文件夹

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个工具！

## 📄 许可证

MIT License - 可自由使用和修改
